import{c as z,r as U,T as te,a as L,e as _,d as u,f as e,t as k,n as I,g as ae,h as i,u as l,i as M,j as H,k as g,l as C,F as $,m as w,p as se,q as oe}from"./app-DBtr3_Li.js";import{_ as re}from"./AdminLayout-Bd-DyGmI.js";import{_ as b,a as h,b as x}from"./InputError-CLFjs1GI.js";import{T as le,_ as W}from"./Toggle-qYyUtabN.js";import{P as ie}from"./PrimaryButton-DF8eVCvv.js";import{_ as de}from"./SecondaryButton-CEU7rnjb.js";import{F as ne}from"./FlashMessage-D1c7CpOi.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const n=[];for(let s=0;s<256;++s)n.push((s+256).toString(16).slice(1));function ge(s,r=0){return(n[s[r+0]]+n[s[r+1]]+n[s[r+2]]+n[s[r+3]]+"-"+n[s[r+4]]+n[s[r+5]]+"-"+n[s[r+6]]+n[s[r+7]]+"-"+n[s[r+8]]+n[s[r+9]]+"-"+n[s[r+10]]+n[s[r+11]]+n[s[r+12]]+n[s[r+13]]+n[s[r+14]]+n[s[r+15]]).toLowerCase()}let q;const me=new Uint8Array(16);function ce(){if(!q){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");q=crypto.getRandomValues.bind(crypto)}return q(me)}const pe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G={randomUUID:pe};function J(s,r,V){if(G.randomUUID&&!r&&!s)return G.randomUUID();s=s||{};const f=s.random||(s.rng||ce)();return f[6]=f[6]&15|64,f[8]=f[8]&63|128,ge(f)}const fe={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},ye={class:"py-12"},be={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ve={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},xe={class:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ke={class:"col-span-2"},he=["value"],we=["value"],Ve={class:"col-span-2"},Ue={class:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ce={class:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg"},$e={class:"space-y-4"},qe={class:"flex items-start space-x-4"},Fe={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},Se={class:"mt-1 relative rounded-md shadow-sm"},Ae={class:"flex items-center space-x-3"},Be=["onClick","disabled"],je=["onClick","disabled"],De=["onClick"],Oe={key:0,class:"text-center py-8 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-600"},Pe={class:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg"},Re={class:"flex items-center space-x-6"},Ee={class:"flex-shrink-0"},Ne=["src"],Te=["src"],ze={key:2,class:"h-32 w-32 rounded-lg bg-gray-100 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center"},Le={class:"flex-1"},Me={class:"space-y-2"},He={class:"bg-gray-50 dark:bg-gray-700/50 p-6 rounded-lg"},We={class:"flex items-center justify-between"},Ge={class:"flex items-center justify-end space-x-4"},Je={__name:"Form",props:{food:{type:Object,default:null},categories:{type:Array,required:!0},branches:{type:Array,required:!0}},setup(s){var S,A,B,j,D,O,P,R,E,N,T;const r=s,V=z(()=>r.food?"Edit Food Item":"Create Food Item"),f=U(null),v=U(null),a=te({name:((S=r.food)==null?void 0:S.name)??"",branch_id:((A=r.food)==null?void 0:A.branch_id)??"",category_id:((B=r.food)==null?void 0:B.category_id)??"",description:((j=r.food)==null?void 0:j.description)??"",base_price:((D=r.food)==null?void 0:D.base_price)??"",preparation_time:((O=r.food)==null?void 0:O.preparation_time)??30,is_vegetarian:((P=r.food)==null?void 0:P.is_vegetarian)??!1,is_spicy:((R=r.food)==null?void 0:R.is_spicy)??!1,allergens:((E=r.food)==null?void 0:E.allergens)??[],image:null,is_available:((N=r.food)==null?void 0:N.is_available)??!0,extra_options:(((T=r.food)==null?void 0:T.extra_options)??[]).map(d=>({...d,tempId:J()}))}),K=()=>{a.extra_options.push({tempId:J(),name:"",price:"",is_available:!0,sort_order:a.extra_options.length})},Q=d=>{a.extra_options.splice(d,1)},F=(d,t)=>{const m=d+t;if(m>=0&&m<a.extra_options.length){const c=[...a.extra_options],o=c[d];c[d]=c[m],c[m]=o,a.extra_options=c}};U(!1),z(()=>({animation:200,disabled:!1,ghostClass:"ghost"}));const X=d=>{const t=d.target.files[0];if(t){a.image=t;const m=new FileReader;m.onload=c=>{v.value=c.target.result},m.readAsDataURL(t)}},Y=()=>{a.image=null,v.value=null,f.value&&(f.value.value="")},Z=d=>{const t=d.startsWith("/")?d.slice(1):d;return`${window.location.origin}/storage/${t}`},ee=()=>{r.food?a.put(route("admin.foods.update",r.food.id),{_method:"PUT",onSuccess:()=>{a.clearErrors()}}):a.post(route("admin.foods.store"),{onSuccess:()=>{a.reset(),v.value=null}})};return(d,t)=>(u(),L(re,{title:V.value},{header:_(()=>[e("h2",fe,k(V.value),1)]),default:_(()=>{var m,c;return[e("div",ye,[e("div",be,[d.$page.props.flash.success?(u(),L(ne,{key:0,message:d.$page.props.flash.success,class:"mb-4"},null,8,["message"])):I("",!0),e("div",ve,[e("form",{onSubmit:ae(ee,["prevent"]),class:"p-6 space-y-6"},[e("div",xe,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Basic Information",-1)),e("div",_e,[e("div",ke,[i(b,{for:"name",value:"Food Name",required:""}),i(h,{id:"name",modelValue:l(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>l(a).name=o),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),i(x,{message:l(a).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[i(b,{for:"branch_id",value:"Branch",required:""}),M(e("select",{id:"branch_id","onUpdate:modelValue":t[1]||(t[1]=o=>l(a).branch_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[t[8]||(t[8]=e("option",{value:""},"Select Branch",-1)),(u(!0),g($,null,C(s.branches,o=>(u(),g("option",{key:o.id,value:o.id},k(o.name),9,he))),128))],512),[[H,l(a).branch_id]]),i(x,{message:l(a).errors.branch_id,class:"mt-2"},null,8,["message"])]),e("div",null,[i(b,{for:"category_id",value:"Category",required:""}),M(e("select",{id:"category_id","onUpdate:modelValue":t[2]||(t[2]=o=>l(a).category_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[t[9]||(t[9]=e("option",{value:""},"Select Category",-1)),(u(!0),g($,null,C(s.categories,o=>(u(),g("option",{key:o.id,value:o.id},k(o.name),9,we))),128))],512),[[H,l(a).category_id]]),i(x,{message:l(a).errors.category_id,class:"mt-2"},null,8,["message"])]),e("div",Ve,[i(b,{for:"description",value:"Description"}),i(le,{id:"description",modelValue:l(a).description,"onUpdate:modelValue":t[3]||(t[3]=o=>l(a).description=o),class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"]),i(x,{message:l(a).errors.description,class:"mt-2"},null,8,["message"])])])]),e("div",Ue,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Pricing and Preparation",-1)),e("div",Ie,[e("div",null,[i(b,{for:"base_price",value:"Base Price ($)",required:""}),i(h,{id:"base_price",modelValue:l(a).base_price,"onUpdate:modelValue":t[4]||(t[4]=o=>l(a).base_price=o),type:"number",step:"0.01",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),i(x,{message:l(a).errors.base_price,class:"mt-2"},null,8,["message"])]),e("div",null,[i(b,{for:"preparation_time",value:"Preparation Time (minutes)",required:""}),i(h,{id:"preparation_time",modelValue:l(a).preparation_time,"onUpdate:modelValue":t[5]||(t[5]=o=>l(a).preparation_time=o),type:"number",min:"1",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),i(x,{message:l(a).errors.preparation_time,class:"mt-2"},null,8,["message"])])])]),e("div",Ce,[e("div",{class:"flex justify-between items-center mb-4"},[t[13]||(t[13]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Extra Options",-1)),e("button",{type:"button",onClick:K,class:"inline-flex items-center px-3 py-1.5 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-md transition-colors duration-200 dark:bg-indigo-900/50 dark:hover:bg-indigo-800/50 dark:text-indigo-300"},t[12]||(t[12]=[e("i",{class:"fas fa-plus mr-1.5"},null,-1),w(" Add Option ")]))]),e("div",$e,[(u(!0),g($,null,C(l(a).extra_options,(o,p)=>(u(),g("div",{key:o.tempId,class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4"},[e("div",qe,[e("div",Fe,[e("div",null,[i(b,{for:`option-name-${p}`,value:"Option Name",required:""},null,8,["for"]),i(h,{id:`option-name-${p}`,modelValue:o.name,"onUpdate:modelValue":y=>o.name=y,type:"text",class:"mt-1 block w-full",required:""},null,8,["id","modelValue","onUpdate:modelValue"])]),e("div",null,[i(b,{for:`option-price-${p}`,value:"Price",required:""},null,8,["for"]),e("div",Se,[t[14]||(t[14]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 dark:text-gray-400 sm:text-sm"},"$")],-1)),i(h,{id:`option-price-${p}`,modelValue:o.price,"onUpdate:modelValue":y=>o.price=y,type:"number",step:"0.01",class:"pl-7 block w-full",required:""},null,8,["id","modelValue","onUpdate:modelValue"])])])]),e("div",Ae,[i(W,{modelValue:o.is_available,"onUpdate:modelValue":y=>o.is_available=y,label:`Option ${p+1} Availability`},null,8,["modelValue","onUpdate:modelValue","label"]),e("button",{type:"button",onClick:y=>F(p,-1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:p===0},t[15]||(t[15]=[e("i",{class:"fas fa-arrow-up"},null,-1)]),8,Be),e("button",{type:"button",onClick:y=>F(p,1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:p===l(a).extra_options.length-1},t[16]||(t[16]=[e("i",{class:"fas fa-arrow-down"},null,-1)]),8,je),e("button",{type:"button",onClick:y=>Q(p),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},t[17]||(t[17]=[e("i",{class:"fas fa-trash"},null,-1)]),8,De)])])]))),128)),l(a).extra_options.length?I("",!0):(u(),g("div",Oe,t[18]||(t[18]=[e("i",{class:"fas fa-list text-gray-400 text-3xl mb-3"},null,-1),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No extra options added yet. Add options like sizes, toppings, or customizations.",-1)])))])]),e("div",Pe,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Food Image",-1)),e("div",Re,[e("div",Ee,[v.value?(u(),g("img",{key:0,src:v.value,class:"h-32 w-32 object-cover rounded-lg"},null,8,Ne)):(m=s.food)!=null&&m.image_path?(u(),g("img",{key:1,src:Z(s.food.image_path),class:"h-32 w-32 object-cover rounded-lg"},null,8,Te)):(u(),g("div",ze,t[19]||(t[19]=[e("i",{class:"fas fa-camera text-gray-400 dark:text-gray-500 text-3xl"},null,-1)])))]),e("div",Le,[e("input",{type:"file",ref_key:"imageInput",ref:f,onChange:X,accept:"image/*",class:"hidden"},null,544),e("div",Me,[i(de,{type:"button",onClick:t[6]||(t[6]=o=>d.$refs.imageInput.click())},{default:_(()=>{var o;return[w(k(v.value||(o=s.food)!=null&&o.image_path?"Change Image":"Select Image"),1)]}),_:1}),t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Recommended size: 800x600 pixels",-1)),v.value||(c=s.food)!=null&&c.image_path?(u(),g("button",{key:0,type:"button",onClick:Y,class:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"},"Remove Image")):I("",!0)]),i(x,{message:l(a).errors.image,class:"mt-2"},null,8,["message"])])])]),e("div",He,[e("div",We,[t[22]||(t[22]=e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Availability Status"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Control whether this food item is available for ordering")],-1)),i(W,{modelValue:l(a).is_available,"onUpdate:modelValue":t[7]||(t[7]=o=>l(a).is_available=o),label:"Food Availability"},null,8,["modelValue"])])]),e("div",Ge,[i(l(se),{href:d.route("admin.foods.index"),class:"inline-flex items-center px-4 py-2 bg-gray-100 dark:bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-gray-700 active:bg-gray-300 dark:active:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},{default:_(()=>t[23]||(t[23]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),w(" Back to List ")])),_:1},8,["href"]),i(ie,{class:oe({"opacity-25":l(a).processing}),disabled:l(a).processing},{default:_(()=>[t[24]||(t[24]=e("i",{class:"fas fa-save mr-2"},null,-1)),w(" "+k(s.food?"Update Food Item":"Create Food Item"),1)]),_:1},8,["class","disabled"])])],32)])])])]}),_:1},8,["title"]))}},st=ue(Je,[["__scopeId","data-v-249fb70c"]]);export{st as default};
