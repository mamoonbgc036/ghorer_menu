import{c as T,r as C,T as j,a as S,e as m,d as c,f as r,t as _,g as D,h as a,u as s,k as x,m as p,n as N,p as P,q as A}from"./app-DBtr3_Li.js";import{_ as O}from"./AdminLayout-Bd-DyGmI.js";import{_ as u,a as $,b as v}from"./InputError-CLFjs1GI.js";import{T as R,_ as q}from"./Toggle-qYyUtabN.js";import{P as E}from"./PrimaryButton-DF8eVCvv.js";import{_ as F}from"./SecondaryButton-CEU7rnjb.js";import{D as z}from"./DangerButton-Bmb8NJ8i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},M={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},J={class:"mt-2 flex items-center"},K=["src"],Q=["src"],W={key:2,class:"h-32 w-32 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},X={class:"flex items-center"},Y={class:"flex items-center justify-end space-x-3"},ie={__name:"Form",props:{category:{type:Object,default:null}},setup(n){var k,b,V,w;const o=n,h=T(()=>o.category?"Edit Category":"Create Category"),y=C(null),i=C(null),t=j({name:((k=o.category)==null?void 0:k.name)??"",description:((b=o.category)==null?void 0:b.description)??"",image:null,is_active:((V=o.category)==null?void 0:V.is_active)??!0,sort_order:((w=o.category)==null?void 0:w.sort_order)??0,_method:o.category?"PUT":"POST"}),I=g=>{const e=g.target.files[0];if(e){t.image=e;const d=new FileReader;d.onload=f=>{i.value=f.target.result},d.readAsDataURL(e)}},U=()=>{t.image=null,i.value=null,y.value&&(y.value.value="")},B=()=>{o.category?t.post(route("admin.categories.update",o.category.id),{preserveScroll:!0,onSuccess:()=>{i.value=null}}):t.post(route("admin.categories.store"),{preserveScroll:!0,onSuccess:()=>{t.reset(),i.value=null}})};return(g,e)=>(c(),S(O,{title:h.value},{header:m(()=>[r("h2",L,_(h.value),1)]),default:m(()=>{var d,f;return[r("div",M,[r("div",G,[r("div",H,[r("form",{onSubmit:D(B,["prevent"]),class:"p-6 space-y-6"},[r("div",null,[a(u,{for:"name",value:"Name"}),a($,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),required:"",autofocus:""},null,8,["modelValue"]),a(v,{message:s(t).errors.name,class:"mt-2"},null,8,["message"])]),r("div",null,[a(u,{for:"description",value:"Description"}),a(R,{id:"description",class:"mt-1 block w-full",modelValue:s(t).description,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).description=l),rows:"4"},null,8,["modelValue"]),a(v,{message:s(t).errors.description,class:"mt-2"},null,8,["message"])]),r("div",null,[a(u,{for:"image",value:"Image"}),r("div",J,[i.value?(c(),x("img",{key:0,src:i.value,class:"h-32 w-32 object-cover rounded-lg"},null,8,K)):(d=n.category)!=null&&d.image_path?(c(),x("img",{key:1,src:`/storage/${n.category.image_path}`,class:"h-32 w-32 object-cover rounded-lg"},null,8,Q)):(c(),x("div",W,e[5]||(e[5]=[r("i",{class:"fas fa-camera text-gray-400 dark:text-gray-500 text-3xl"},null,-1)]))),r("input",{type:"file",id:"image",ref_key:"imageInput",ref:y,class:"hidden",onChange:I,accept:"image/*"},null,544),a(F,{type:"button",class:"ml-4",onClick:e[2]||(e[2]=l=>g.$refs.imageInput.click())},{default:m(()=>{var l;return[p(_(i.value||(l=n.category)!=null&&l.image_path?"Change Image":"Select Image"),1)]}),_:1}),i.value||(f=n.category)!=null&&f.image_path?(c(),S(z,{key:3,type:"button",class:"ml-2",onClick:U},{default:m(()=>e[6]||(e[6]=[p(" Remove ")])),_:1})):N("",!0)]),a(v,{message:s(t).errors.image,class:"mt-2"},null,8,["message"])]),r("div",X,[a(u,{for:"is_active",value:"Active Status",class:"mr-4"}),a(q,{modelValue:s(t).is_active,"onUpdate:modelValue":e[3]||(e[3]=l=>s(t).is_active=l),id:"is_active"},null,8,["modelValue"])]),r("div",null,[a(u,{for:"sort_order",value:"Sort Order"}),a($,{id:"sort_order",type:"number",class:"mt-1 block w-full",modelValue:s(t).sort_order,"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).sort_order=l),min:"0"},null,8,["modelValue"]),a(v,{message:s(t).errors.sort_order,class:"mt-2"},null,8,["message"])]),r("div",Y,[a(s(P),{href:g.route("admin.categories.index"),class:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"},{default:m(()=>e[7]||(e[7]=[p(" Cancel ")])),_:1},8,["href"]),a(E,{class:A({"opacity-25":s(t).processing}),disabled:s(t).processing},{default:m(()=>[p(_(n.category?"Update Category":"Create Category"),1)]),_:1},8,["class","disabled"])])],32)])])])]}),_:1},8,["title"]))}};export{ie as default};
