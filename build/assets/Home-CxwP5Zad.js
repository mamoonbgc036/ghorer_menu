import{C as L}from"./CustomerLayout-C4m_X95K.js";import{p as C,x as h,a as T,e as m,d as n,f as e,k as l,l as c,q as b,F as g,i as k,v as B,t as d,n as _,h as w,m as f,j as z,H as S}from"./app-Uxo1qTBw.js";import{A}from"./aos-DqbVZq-C.js";import{d as y,u as j,t as U}from"./timezone-DsV292TO.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";y.extend(j);y.extend(U);const F={name:"Home",components:{CustomerLayout:L,Link:C},props:{branches:{type:Array,required:!0},locals:{type:Array,required:!0}},mounted(){A.init({duration:1e3,once:!0,offset:50,delay:50,easing:"ease-in-out"}),this.filterLocal=this.locals,this.filteredBranches=this.branches,this.branches.forEach(s=>{var t;((t=s.opening_hours)==null?void 0:t.length)>0&&(this.selectedDay[s.id]=s.opening_hours[0].day)})},data(){return{searchQuery:"",showDropDown:!1,filteredBranches:[],filterLocal:[],selectedDay:{},floatingItems:[{icon:"fas fa-pizza-slice",class:"top-1/4 left-1/4 animate-float-slow"},{icon:"fas fa-hamburger",class:"top-1/3 right-1/4 animate-float-slower"},{icon:"fas fa-ice-cream",class:"bottom-1/4 left-1/3 animate-float"},{icon:"fas fa-coffee",class:"top-1/2 right-1/3 animate-float-slow"},{icon:"fas fa-utensils",class:"bottom-1/3 right-1/4 animate-float-slower"}]}},methods:{check(){this.showDropDown=!0,this.filteredBranches=this.branches;const s=this.searchQuery.toLowerCase();this.filterLocal=this.locals.filter(t=>t.name.toLowerCase().includes(s))},getDirectionsUrl(s){return`https://www.google.com/maps/dir/?api=1&destination=${`${s.latitude},${s.longitude}`}`},isOpen(s){if(!s)return!1;const t=new Date,p=t.toLocaleDateString("en-US",{weekday:"long"}),u=t.toLocaleTimeString("en-US",{hour12:!1}),a=s.find(i=>i.day===p);return a?u>=a.open&&u<=a.close:!1},formatDistance(s){return s?`${s.toFixed(1)} km away`:"Distance unknown"},formatTime(s){return y(`1970-01-01 ${s}`).tz("Asia/Dhaka").format("hh:mm A")},selectedArea(s){this.searchQuery=s.name,this.showDropDown=!1,console.log(s.division_id),s.division_id<=0?(console.log(s),this.filteredBranches=this.branches.filter(t=>t.local_id===s.own_id)):this.filteredBranches=this.branches.filter(t=>t.thana_id===s.id)}}},Q={class:"relative flex items-center justify-center bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 overflow-visible"},N={class:"absolute inset-0 overflow-hidden pointer-events-none"},q={class:"relative z-10 w-full max-w-6xl mx-auto m-0 p-5"},H={class:"text-center space-y-8"},I={class:"relative max-w-xl mx-auto"},O={key:0,class:"mt-2 absolute w-full text-center bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-md z-50"},M=["onClick"],E={class:"p-5 border-b border-gray-200 dark:border-gray-800 bg-gradient-to-b from-gray-50 dark:from-gray-900 to-transparent"},W={class:"flex items-center justify-center"},G={class:"flex flex-col items-center text-center"},R=["src"],Y={class:"text-xl font-bold text-gray-900 dark:text-gray-100 tracking-tight"},J={class:"mt-1 text-sm dark:text-gray-400 not-italic line-clamp-2",style:{"font-size":"15px"}},K={class:"mt-1",style:{color:"rgb(17 24 39)","font-size":"15px"}},P={class:"p-5 space-y-5"},X={class:"flex flex-wrap items-center justify-center gap-4 text-sm text-gray-600 dark:text-gray-300"},Z=["onUpdate:modelValue"],$=["value"],ee=["href"],te={class:"space-y-3"},re={class:"max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-gray-100 dark:scrollbar-track-gray-800"},se={class:"w-full text-sm text-left"},oe={class:"py-3 px-4 text-center"},ae={class:"py-3 px-4 text-center"},ie={class:"py-3 px-4 text-center"},ne={key:0};function le(s,t,p,u,a,i){const v=h("Link"),D=h("CustomerLayout");return n(),T(D,null,{default:m(()=>[e("div",Q,[t[4]||(t[4]=e("div",{class:"absolute inset-0 z-0"},[e("div",{class:"absolute inset-0 bg-gradient-to-br from-orange-500/10 to-purple-500/10 dark:from-orange-900/20 dark:to-purple-900/20"}),e("div",{class:"absolute inset-0 bg-grid-pattern opacity-[0.07] dark:opacity-[0.03]"})],-1)),e("div",N,[(n(!0),l(g,null,c(a.floatingItems,(r,o)=>(n(),l("div",{key:o,class:b([r.class,"absolute opacity-[0.15] dark:opacity-[0.08]"])},[e("i",{class:b(r.icon+" text-5xl md:text-7xl text-orange-600 dark:text-orange-400")},null,2)],2))),128))]),e("div",q,[e("div",H,[t[2]||(t[2]=e("h1",{class:"text-5xl sm:text-6xl md:text-7xl font-bold tracking-tight"},[e("span",{class:"block text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600 dark:from-orange-500 dark:to-red-500 animate-gradient pb-2"},"Select Your Favourit Food")],-1)),t[3]||(t[3]=e("p",{class:"max-w-2xl mx-auto text-xl md:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed"},"Within Our Best Restaurants And Catering Servics",-1)),e("div",I,[k(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>a.searchQuery=r),onInput:t[1]||(t[1]=(...r)=>i.check&&i.check(...r)),placeholder:"type your local area",class:"text-center w-full rounded-full border-2 border-orange-500 dark:border-orange-400 px-6 py-4 text-lg text-gray-900 dark:text-white bg-white dark:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-orange-500/50 dark:focus:ring-orange-400/30 transition duration-300"},null,544),[[B,a.searchQuery]]),a.searchQuery.length>0&&a.showDropDown?(n(),l("ul",O,[(n(!0),l(g,null,c(a.filterLocal,(r,o)=>(n(),l("li",{key:o,onClick:x=>i.selectedArea(r),class:"text-gray-700 cursor-pointer dark:text-gray-300 px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded z-50"},d(r.name),9,M))),128))])):_("",!0)])])])]),w(S,{name:"list",tag:"div",class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 mt-6 px-4 md:px-8"},{default:m(()=>[(n(!0),l(g,null,c(a.filteredBranches,r=>(n(),l("div",{key:r.id,class:"relative bg-white dark:bg-gray-900 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 border border-gray-200 dark:border-gray-800 overflow-hidden","data-aos":"fade-up",style:{"background-color":"rgb(249 115 22)"}},[t[10]||(t[10]=e("div",{class:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 to-purple-600"},null,-1)),e("div",E,[e("div",W,[e("div",G,[e("img",{src:r.image?"http://localhost:8000/storage/"+r.image:"http://localhost:8000/storage/uploads/logo.png",alt:"restaurant_logo",class:"w-14 h-14 rounded-full object-cover border-2 border-indigo-100 dark:border-indigo-900 mb-2"},null,8,R),e("h3",Y,d(r.name),1),e("address",J,d(r.address),1),e("div",K,d(r.contact_number),1)])])]),e("div",P,[e("div",X,[e("div",null,[w(v,{href:s.route("customer.branch.menu",{branch:r.id,type:"collection"}),class:"inline-flex items-center justify-center px-4 py-2 text-sm font-semibold rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-all duration-200"},{default:m(()=>t[5]||(t[5]=[e("i",{class:"fas fa-shopping-bag mr-2"},null,-1),f(" Order Now ")])),_:2},1032,["href"])]),e("div",null,[k(e("select",{"onUpdate:modelValue":o=>a.selectedDay[r.id]=o,class:"w-48 p-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500"},[t[6]||(t[6]=e("option",{value:""},"All Days",-1)),(n(),l(g,null,c(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=>e("option",{key:o,value:o},d(o),9,$)),64))],8,Z),[[z,a.selectedDay[r.id]]])]),e("div",null,[e("a",{href:i.getDirectionsUrl(r),target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center px-4 py-2 text-sm font-semibold rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-900 transition-all duration-200"},t[7]||(t[7]=[e("i",{class:"fas fa-directions mr-2"},null,-1),f(" Directions ")]),8,ee)])]),e("div",te,[e("div",re,[e("table",se,[t[9]||(t[9]=e("thead",{class:"text-gray-700 dark:text-gray-300 border-b border-gray-300 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-900"},[e("tr",null,[e("th",{class:"py-3 px-4 text-center font-semibold"},[e("i",{class:"fas fa-coffee mr-1 text-yellow-500"}),f(" Breakfast ")]),e("th",{class:"py-3 px-4 text-center font-semibold"},[e("i",{class:"fas fa-utensils mr-1 text-blue-600"}),f(" Lunch ")]),e("th",{class:"py-3 px-4 text-center font-semibold"},[e("i",{class:"fas fa-moon mr-1 text-purple-500"}),f(" Dinner ")])])],-1)),e("tbody",null,[(n(!0),l(g,null,c(r.opening_hours.filter(o=>!a.selectedDay[r.id]||o.day===a.selectedDay[r.id]),(o,x)=>(n(),l("tr",{key:x,class:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"},[e("td",oe,d(i.formatTime(o.breakfast.start))+" - "+d(i.formatTime(o.breakfast.end)),1),e("td",ae,d(i.formatTime(o.lunch.start))+" - "+d(i.formatTime(o.lunch.end)),1),e("td",ie,d(i.formatTime(o.dinner.start))+" - "+d(i.formatTime(o.dinner.end)),1)]))),128)),r.opening_hours.filter(o=>!a.selectedDay[r.id]||o.day===a.selectedDay[r.id]).length===0?(n(),l("tr",ne,t[8]||(t[8]=[e("td",{colspan:"4",class:"py-4 text-center text-gray-500 dark:text-gray-400 italic"},"Closed",-1)]))):_("",!0)])])])])])]))),128))]),_:1})]),_:1})}const me=V(F,[["render",le],["__scopeId","data-v-3d420f27"]]);export{me as default};
