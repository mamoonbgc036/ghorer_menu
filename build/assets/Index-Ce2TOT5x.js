import{y as z,r as A,w as G,z as D,a as q,e as V,d as y,f as e,i as v,v as H,j as _,k as f,l as w,t as c,F as S,q as O,h as L,m as X,u as J,p as K}from"./app-Uxo1qTBw.js";import{_ as Q}from"./AdminLayout-BJB2mUXd.js";import{P as Y}from"./Pagination-CB_jSl5N.js";import{_ as Z,a as ee}from"./_baseGetTag-CgJ4GK5P.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function te(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}var F=te,re=Z,ae=function(){return re.Date.now()},se=ae,ne=/\s/;function oe(t){for(var s=t.length;s--&&ne.test(t.charAt(s)););return s}var ie=oe,de=ie,le=/^\s+/;function ue(t){return t&&t.slice(0,de(t)+1).replace(le,"")}var ce=ue;function ge(t){return t!=null&&typeof t=="object"}var pe=ge,ye=ee,xe=pe,me="[object Symbol]";function fe(t){return typeof t=="symbol"||xe(t)&&ye(t)==me}var be=fe,ke=ce,N=F,ve=be,U=NaN,he=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,we=/^0o[0-7]+$/i,Se=parseInt;function Te(t){if(typeof t=="number")return t;if(ve(t))return U;if(N(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=N(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=ke(t);var d=_e.test(t);return d||we.test(t)?Se(t.slice(2),d?2:8):he.test(t)?U:+t}var Ie=Te,Oe=F,j=se,B=Ie,je="Expected a function",$e=Math.max,Ce=Math.min;function Ee(t,s,d){var i,b,g,x,l,p,o=0,a=!1,r=!1,u=!0;if(typeof t!="function")throw new TypeError(je);s=B(s)||0,Oe(d)&&(a=!!d.leading,r="maxWait"in d,g=r?$e(B(d.maxWait)||0,s):g,u="trailing"in d?!!d.trailing:u);function T(n){var m=i,k=b;return i=b=void 0,o=n,x=t.apply(k,m),x}function M(n){return o=n,l=setTimeout(h,s),a?T(n):x}function P(n){var m=n-p,k=n-o,E=s-m;return r?Ce(E,g-k):E}function $(n){var m=n-p,k=n-o;return p===void 0||m>=s||m<0||r&&k>=g}function h(){var n=j();if($(n))return C(n);l=setTimeout(h,P(n))}function C(n){return l=void 0,u&&i?T(n):(i=b=void 0,x)}function W(){l!==void 0&&clearTimeout(l),o=0,i=p=b=l=void 0}function R(){return l===void 0?x:C(j())}function I(){var n=j(),m=$(n);if(i=arguments,b=this,p=n,m){if(l===void 0)return M(p);if(r)return clearTimeout(l),l=setTimeout(h,s),T(p)}return l===void 0&&(l=setTimeout(h,s)),x}return I.cancel=W,I.flush=R,I}var Ae=Ee;const De=z(Ae),Ve={class:"container mx-auto py-6"},Le={class:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6"},Ne={class:"p-4 space-y-4"},Ue={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Be={class:"col-span-1 md:col-span-2"},Fe=["value"],Me=["value"],Pe={class:"col-span-1"},We={class:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden"},Re={class:"overflow-x-auto"},ze={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ge={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},qe={class:"px-6 py-4 whitespace-nowrap"},He={class:"text-sm font-medium text-gray-900 dark:text-white"},Xe={class:"px-6 py-4 whitespace-nowrap"},Je={class:"text-sm text-gray-900 dark:text-white"},Ke={class:"text-sm text-gray-500 dark:text-gray-400"},Qe={class:"px-6 py-4 whitespace-nowrap"},Ye={class:"text-sm text-gray-900 dark:text-white"},Ze={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm font-medium text-gray-900 dark:text-white"},tt={class:"px-6 py-4 whitespace-nowrap"},rt=["onUpdate:modelValue","onChange"],at=["value"],st={class:"px-6 py-4 whitespace-nowrap"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},ot={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},it={class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700"},pt={__name:"Index",props:{orders:Object,filters:Object,statuses:Array,payment_statuses:Array},setup(t){const s=t,d=A(s.filters.search),i=A({status:s.filters.status||"",payment_status:s.filters.payment_status||"",order_type:s.filters.order_type||""});G([d,i],De(()=>{D.get(route("admin.orders.index"),{search:d.value,status:i.value.status,payment_status:i.value.payment_status,order_type:i.value.order_type},{preserveState:!0,preserveScroll:!0})},300));const b=o=>{D.patch(route("admin.orders.update-status",o.id),{status:o.status},{preserveScroll:!0})},g=o=>o.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),x=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=o=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",preparing:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ready_for_delivery:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",out_for_delivery:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",delivered:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",p=o=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",refunded:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"})[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";return(o,a)=>(y(),q(Q,null,{default:V(()=>[e("div",Ve,[a[9]||(a[9]=e("div",{class:"mb-6 sm:flex sm:items-center sm:justify-between"},[e("h1",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"Orders")],-1)),e("div",Le,[e("div",Ne,[e("div",Ue,[e("div",Be,[v(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>d.value=r),type:"text",placeholder:"Search by ID, customer or address...",class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},null,512),[[H,d.value]])]),e("div",null,[v(e("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>i.value.status=r),class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[a[4]||(a[4]=e("option",{value:""},"All Statuses",-1)),(y(!0),f(S,null,w(t.statuses,r=>(y(),f("option",{key:r,value:r},c(g(r)),9,Fe))),128))],512),[[_,i.value.status]])]),e("div",null,[v(e("select",{"onUpdate:modelValue":a[2]||(a[2]=r=>i.value.payment_status=r),class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},[a[5]||(a[5]=e("option",{value:""},"All Payment Statuses",-1)),(y(!0),f(S,null,w(t.payment_statuses,r=>(y(),f("option",{key:r,value:r},c(g(r)),9,Me))),128))],512),[[_,i.value.payment_status]])]),e("div",Pe,[v(e("select",{"onUpdate:modelValue":a[3]||(a[3]=r=>i.value.order_type=r),class:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-orange-500"},a[6]||(a[6]=[e("option",{value:""},"All Orders",-1),e("option",{value:"delivery"},"Delivery",-1),e("option",{value:"collection"},"Collection",-1)]),512),[[_,i.value.order_type]])])])])]),e("div",We,[e("div",Re,[e("table",ze,[a[8]||(a[8]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Order ID "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Customer "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Branch "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Total "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Payment "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Date "),e("th",{scope:"col",class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",Ge,[(y(!0),f(S,null,w(t.orders.data,r=>(y(),f("tr",{key:r.id,class:O({"bg-blue-50 dark:bg-blue-900/20":r.order_type==="delivery","bg-purple-50 dark:bg-purple-900/20":r.order_type==="collection"})},[e("td",qe,[e("span",He," #"+c(r.id),1)]),e("td",Xe,[e("div",Je,c(r.user.name),1),e("div",Ke,c(r.user.email),1)]),e("td",Qe,[e("span",Ye,c(r.branch.name),1)]),e("td",Ze,[e("span",et," $"+c(r.total_amount),1)]),e("td",tt,[v(e("select",{"onUpdate:modelValue":u=>r.status=u,onChange:u=>b(r),class:O(["text-sm rounded-full px-3 py-1 font-medium",l(r.status)])},[(y(!0),f(S,null,w(t.statuses,u=>(y(),f("option",{key:u,value:u},c(g(u)),9,at))),128))],42,rt),[[_,r.status]])]),e("td",st,[e("span",{class:O(["text-sm px-2 py-1 rounded-full font-medium",p(r.payment_status)])},c(g(r.payment_status)),3)]),e("td",nt,c(x(r.created_at)),1),e("td",ot,[L(J(K),{href:o.route("admin.orders.show",r.id),class:"text-orange-600 hover:text-orange-900 dark:hover:text-orange-400"},{default:V(()=>a[7]||(a[7]=[X(" View ")])),_:2},1032,["href"])])],2))),128))])])]),e("div",it,[L(Y,{links:t.orders.links},null,8,["links"])])])])]),_:1}))}};export{pt as default};
